{"version":3,"sources":["Welcome/Welcome.png","Welcome/index.tsx","ScratchCard/images/cover.png","ScratchCard/ScratchOff.jsx","ScratchCard/images/brush.png","ScratchCard/index.tsx","ScratchCard/images/verseBg.png","Sharings/POM_Template.pdf","Sharings/downloadSharing.ts","Sharings/index.tsx","App.tsx","index.tsx"],"names":["EVENT_TIME","Date","isAboutToStart","getTime","now","Index","onNext","justify","gutter","xl","lg","xs","src","welcomeImg","title","value","toISOString","format","sm","type","block","size","disabled","onClick","ScratchOff","props","isDrawing","lastPoint","touchStart","bind","touchMove","touchEnd","state","showChildren","canvas","this","width","parentElement","offsetWidth","height","offsetHeight","addEventListener","ctx","getContext","brush","Image","cover","onload","drawImage","removeEventListener","event","target","offsetX","offsetY","undefined","offsetParent","offsetLeft","offsetTop","x","pageX","touches","clientX","y","pageY","clientY","getPosition","globalCompositeOperation","setState","preventDefault","a","b","dist","Math","sqrt","pow","angle","atan2","i","sin","cos","filledInPixels","reveal","style","position","marginLeft","marginRight","isRevealed","zIndex","cursor","borderRadius","ref","el","className","children","pdata","getImageData","data","l","length","total","count","parseInt","round","React","PureComponent","Verse","display","justifyContent","alignItems","backgroundImage","backgroundSize","direction","align","fontSize","ScratchCard","useState","setIsRevealed","sharingImages","selector","els","document","querySelectorAll","alert","Error","Promise","all","Array","from","map","domtoimage","toPng","quality","dataUrl","fetch","then","res","arrayBuffer","imgsBuffers","savePdf","filename","bytes","blob","Blob","link","createElement","href","window","URL","createObjectURL","download","click","downloadPOMPdf","template","tmplPdfBytes","PDFDocument","load","pdfDoc","sharingImgs","sharingImgBytes","embedPng","sharingImg","croppedHeight","addPage","save","pdfBytes","QUESTIONS","SharingFrame","border","padding","backgroundColor","minHeight","Sharing","step","setStep","sharings","setSharings","onSharingFinish","newSharing","sharing","newSharings","SharingResult","q","index","level","md","SharingForm","labelCol","span","wrapperCol","layout","initialValues","onFinish","Item","label","name","TextArea","required","rows","htmlType","Header","Layout","Content","Step","App","color","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e450ae3e.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Welcome.8641934a.png\";","import React from \"react\";\nimport { Button, Col, Row, Image } from \"antd\";\nimport Countdown from \"antd/lib/statistic/Countdown\";\n\nimport welcomeImg from \"./Welcome.png\";\n\nconst EVENT_TIME = new Date(\"2021-01-01T05:00:00.000Z\");\n\nconst isAboutToStart = () => {\n  return EVENT_TIME.getTime() - Date.now() < 1000 * 60 * 60 * 24 * 20;\n};\n\nconst Index = ({ onNext }: { onNext: () => void }) => (\n  <>\n    <Row justify=\"center\" gutter={[32, 32]}>\n      <Col xl={8} lg={12} xs={20}>\n        <Image src={welcomeImg} />\n      </Col>\n    </Row>\n    <Row justify=\"center\" gutter={[32, 32]}>\n      <Countdown\n        title=\"Event Countdown\"\n        value={EVENT_TIME.toISOString()}\n        format=\"D [days] H [hours] m [minutes] s [seconds]\"\n      />\n    </Row>\n    <Row justify=\"center\" gutter={[32, 32]}>\n      <Col lg={6} sm={12}>\n        <Button\n          type=\"primary\"\n          block\n          size=\"large\"\n          disabled={!isAboutToStart()}\n          onClick={onNext}\n        >\n          Let's begin!\n        </Button>\n        {!isAboutToStart() && <small>Check back again soon!</small>}\n      </Col>\n    </Row>\n  </>\n);\n\nexport default Index;\n","export default __webpack_public_path__ + \"static/media/cover.76022cf0.png\";","import React from \"react\";\nimport \"./styles.scss\";\nimport brush from \"./images/brush.png\";\nimport cover from \"./images/cover.png\";\n\n// https://github.com/andreruffert/scratchie\n// https://codepen.io/Totati/pen/pPXrJV\n\nconst REVEAL_PERCENTAGE = 20;\n\nexport class ScratchOff extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.isDrawing = false;\n    this.lastPoint = null;\n    this.touchStart = this.touchStart.bind(this);\n    this.touchMove = this.touchMove.bind(this);\n    this.touchEnd = this.touchEnd.bind(this);\n    this.state = { showChildren: false };\n  }\n\n  componentDidMount() {\n    const canvas = this.canvas;\n    canvas.width = canvas.parentElement.offsetWidth;\n    canvas.height = canvas.parentElement.offsetHeight;\n\n    canvas.addEventListener(\"mousedown\", this.touchStart);\n    canvas.addEventListener(\"touchstart\", this.touchStart);\n    canvas.addEventListener(\"mousemove\", this.touchMove);\n    canvas.addEventListener(\"touchmove\", this.touchMove);\n    canvas.addEventListener(\"mouseup\", this.touchEnd);\n    canvas.addEventListener(\"touchend\", this.touchEnd);\n\n    this.ctx = canvas.getContext(\"2d\");\n\n    this.brush = new Image();\n    this.brush.src = brush;\n\n    this.cover = new Image();\n    this.cover.src = cover;\n    this.cover.onload = () =>\n      this.ctx.drawImage(this.cover, 0, 0, canvas.width, canvas.height);\n  }\n\n  componentWillUnmount() {\n    const canvas = this.canvas;\n    if (!canvas) return;\n    canvas.removeEventListener(\"mousedown\", this.touchStart);\n    canvas.removeEventListener(\"touchstart\", this.touchStart);\n    canvas.removeEventListener(\"mousemove\", this.touchMove);\n    canvas.removeEventListener(\"touchmove\", this.touchMove);\n    canvas.removeEventListener(\"mouseup\", this.touchEnd);\n    canvas.removeEventListener(\"touchend\", this.touchEnd);\n  }\n\n  getPosition(event) {\n    let target = this.canvas;\n    let offsetX = 0;\n    let offsetY = 0;\n\n    if (target.offsetParent !== undefined) {\n      while ((target = target.offsetParent)) {\n        offsetX += target.offsetLeft;\n        offsetY += target.offsetTop;\n      }\n    }\n\n    const x = (event.pageX || event.touches[0].clientX) - offsetX;\n    const y = (event.pageY || event.touches[0].clientY) - offsetY;\n    return { x, y };\n  }\n\n  touchStart(event) {\n    this.isDrawing = true;\n    this.lastPoint = this.getPosition(event);\n    this.ctx.globalCompositeOperation = \"destination-out\";\n\n    this.setState({ ...this.state, showChildren: true });\n  }\n\n  touchMove(event) {\n    if (!this.isDrawing) return;\n    event.preventDefault();\n\n    const ctx = this.ctx;\n    const a = this.lastPoint;\n    const b = this.getPosition(event);\n    const dist = Math.sqrt(Math.pow(b.x - a.x, 2) + Math.pow(b.y - a.y, 2));\n    const angle = Math.atan2(b.x - a.x, b.y - a.y);\n    const offsetX = this.brush.width / 2;\n    const offsetY = this.brush.height / 2;\n\n    for (let x, y, i = 0; i < dist; i++) {\n      x = a.x + Math.sin(angle) * i - offsetX;\n      y = a.y + Math.cos(angle) * i - offsetY;\n      ctx.drawImage(this.brush, x, y);\n    }\n\n    this.lastPoint = b;\n  }\n\n  touchEnd(event) {\n    this.isDrawing = false;\n\n    // If mostly scratched, remove the canvas\n    if (this.filledInPixels > REVEAL_PERCENTAGE) {\n      this.props.reveal();\n    }\n  }\n\n  // From https://codepen.io/aj1215/pen/obBdKN\n  get filledInPixels() {\n    const pixels = this.ctx.getImageData(0, 0, 500, 500);\n    const pdata = pixels.data;\n    const l = pdata.length;\n    const stride = 32;\n    const total = l / stride;\n\n    // Iterate over all pixels\n    let count = 0;\n    for (let i = (count = 0); i < l; i += stride) {\n      if (parseInt(pdata[i]) === 0) {\n        count++;\n      }\n    }\n\n    return Math.round((count / total) * 100);\n  }\n\n  render() {\n    return (\n      <div\n        style={{\n          position: \"relative\",\n          width: \"500px\",\n          height: \"500px\",\n          marginLeft: \"auto\",\n          marginRight: \"auto\",\n        }}\n      >\n        {!this.props.isRevealed && (\n          <canvas\n            style={{\n              position: \"absolute\",\n              zIndex: 2,\n              cursor: \"pointer\",\n              borderRadius: \"40px\",\n            }}\n            ref={(el) => (this.canvas = el)}\n          />\n        )}\n        <div className=\"secret fill no-select flex justify-center items-center\">\n          {this.state.showChildren && this.props.children}\n        </div>\n      </div>\n    );\n  }\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAWCAQAAADgZ+3MAAAABGdBTUEAALGPC/xhBQAAAAJiS0dEAP+Hj8y/AAAAB3RJTUUH5AwaFC40islf+wAAAuFJREFUOMvNlNFqXFUUhr+19z7nzCSZ6dgkUmurTdE2IBhFikIRIaAU7xRvfAbfw0fwGfTGaxEUBYuY0mKMtqRSaA1pTM2knUlmMnPO2fv3ItE2sXhRb1wL9sW/Nh+bzf8v+D+UOA2A+w8Ml7vnsKOYc3j80Zu4I1oDA6PBJLm3yvYADmDklGZmScgwBJlEjXOS9CjGEExwgpItK5X2Vd+mQUGOfMiVXtWmhYwgc95cgo5lqhDWxBOBnNz5CQqT7QkCHgc+B5JFiy6HuOY7oSjqOkY7nk7otJ1FDKjJcYvpFhBDbOsZHcNpTJOCGpHMAwRZqlvaNTVzLKsGyfMuJ2nS5muWCThLBNXAAvM8yxV+Zo1qyqbrOzJCkyl6rsqT7ZSIqmwyouYcHzLLVyzxO29xkU1tMEeLNdtSZM/9obsaoUXr8iafEmCe5RDb1ivKkSPQ5BRt3uN1RGE3dZL3KQgscp5ZbukTlpnUhmoMlYp8x8uEIVd9zFTaqMbatqALeocXOE7iKr/YmDn9xK88zRk6ZBRcIrGiEQL4AoDb+GApTw1KjSMhWaFjtJjBs8LndoWcaaZp0GaBU/xGD08XMWKL6qENglMc1yVyct6pusuP7k76nrO2yreYLjLHBUZ0OE+XbfqIjC7bxENuyhE10CQWYTL2yZjSZJ1sGKMu8QGzZMyQ06XHJjdZtx/cqspW7D3q9pIK7aNSlaLae9VuxPrWpcUrvME8IjJknRWWuG1LbnV6z8WPDkUkHDjcl4maPtwzX8VdpSy3oTapcGzwDWMe4HB2w3aotxEfPwaj/XZKQJL1Go3yeQoGrDDgS24wtBm9bdfcdRtRc/hj4O/46q/DIxrIxam0wIsM+Myum7cOZ1j3lxsPxqU7SNfhwP6DmxFs6FKTl5hlm2iFu+/KRNop7r1WX37s6glHhcgEqBGHA64hHE/hlHO/vdNXTf+J9tv+cw2H5ThaTD4p5mHl/zL7E8erTOqrjNJNAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIwLTEyLTI2VDIwOjQ2OjA4KzAwOjAw9aQraQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMC0xMi0yNlQyMDo0NToyNiswMDowMH3UVPYAAAAASUVORK5CYII=\"","import React, { useState } from \"react\";\nimport { Row, Col, Button, Space, Divider } from \"antd\";\nimport \"antd/dist/antd.css\";\n\nimport verseBg from \"./images/verseBg.png\";\nimport { ScratchOff } from \"./ScratchOff\";\nimport Text from \"antd/lib/typography/Text\";\n\nconst Verse = () => (\n  <div\n    style={{\n      width: \"90%\",\n      height: \"90%\",\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      backgroundImage: `url(${verseBg})`,\n      backgroundSize: \"contain\",\n    }}\n  >\n    <div>\n      <Divider />\n      <Space direction=\"vertical\" align=\"center\" style={{ fontSize: \"large\" }}>\n        <Text>Therefore,</Text>\n        <Text>preparing your minds for action,</Text>\n        <Text>and being sober-minded,</Text>\n        <Text>\n          set your <strong>hope</strong> fully on the grace\n        </Text>\n        <Text>that will be brought to you</Text>\n        <Text>at the revelation of Jesus Christ.</Text>\n      </Space>\n      <Divider>1 PETER 1:13</Divider>\n      <br />\n    </div>\n  </div>\n);\n\nfunction ScratchCard({ onNext }: { onNext: () => void }) {\n  const [isRevealed, setIsRevealed] = useState(false);\n\n  return (\n    <>\n      <Row justify=\"center\" gutter={[32, 32]}>\n        <ScratchOff reveal={() => setIsRevealed(true)} isRevealed={isRevealed}>\n          <Verse />\n        </ScratchOff>\n      </Row>\n      {isRevealed && (\n        <Row justify=\"center\" gutter={[32, 32]}>\n          <Col lg={4} xs={8}>\n            <Button type=\"primary\" block size=\"large\" onClick={onNext}>\n              Next\n            </Button>\n          </Col>\n        </Row>\n      )}\n    </>\n  );\n}\n\nexport default ScratchCard;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAAH0CAYAAADL1t+KAAAAAXNSR0IArs4c6QAAAAlwSFlzAAAOxAAADsQBlSsOGwAACRZJREFUeJzt3L2OTGEcwOEzGxXXsQlrWYRIuBiNTudWtHq9hoJEI0SysoivhIiP7O4FWBp2lLLCFBxn4+d5uplz8r5nql/mP2fObPnI+fkAAPzTlvb7AgCAPyfoABAg6AAQIOgAECDoABAg6AAQIOgAECDoABAg6AAQIOgAECDoABAg6AAQIOgAECDoABAg6AAQIOgAECDoABBwYOwFj59cHc6cOzX2sgCQ8eDu+vBk4+moa44e9NUTK8PFSxfGXhYAMj7tfB496EbuABAg6AAQIOgAECDoABAg6AAQMPpd7ovsfNwZXj5/NeWWALAvDq8sDwcPHfz5wfl89P0mDfqb12+HSxcuT7klAOyLq9euDEfXVn5+cDYbfT8jdwAIEHQACJh05D7/4TeDk6fXhlNn16a8BAD4K9bvbwwb64+/v7FgrD7+wH3ioM9++HAnTh/zmFgAEr5++bo36AtufBv/ljgjdwBIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIODDlZru7u3te37x+a3j08MmUlwAAf8Xm++29b8xmvz55Ph99/0mDvrS0dyCwtbk9bG1u/+JsAPiHLYr2otj/JiN3AAgQdAAImHTkvrq2Mtx7dnvKLQHgv+AbOgAECDoABAg6AAQIOgAECDoABAg6AASM/re12zfuDC+evhx7WQDI+PBua/Q1Z8tHzo//QFkAYFJG7gAQIOgAECDoABAg6AAQIOgAECDoABAg6AAQIOgAECDoABAg6AAQIOgAECDoABAg6AAQIOgAECDoABAg6AAQIOgAEPAN9wxTadOmWJ0AAAR/aVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49J++7vycgaWQ9J1c1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCc/Pgo8eDp4bXBtZXRhIHhtbG5zOng9J2Fkb2JlOm5zOm1ldGEvJz4KPHJkZjpSREYgeG1sbnM6cmRmPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjJz4KCiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0nJwogIHhtbG5zOkF0dHJpYj0naHR0cDovL25zLmF0dHJpYnV0aW9uLmNvbS9hZHMvMS4wLyc+CiAgPEF0dHJpYjpBZHM+CiAgIDxyZGY6U2VxPgogICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSdSZXNvdXJjZSc+CiAgICAgPEF0dHJpYjpDcmVhdGVkPjIwMjAtMTItMjY8L0F0dHJpYjpDcmVhdGVkPgogICAgIDxBdHRyaWI6RXh0SWQ+ZmIwYjQzZGMtYThmOS00ZDUxLWExNjYtNTJmZGU1ZWMwYzYwPC9BdHRyaWI6RXh0SWQ+CiAgICAgPEF0dHJpYjpGYklkPjUyNTI2NTkxNDE3OTU4MDwvQXR0cmliOkZiSWQ+CiAgICAgPEF0dHJpYjpUb3VjaFR5cGU+MjwvQXR0cmliOlRvdWNoVHlwZT4KICAgIDwvcmRmOmxpPgogICA8L3JkZjpTZXE+CiAgPC9BdHRyaWI6QWRzPgogPC9yZGY6RGVzY3JpcHRpb24+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczpkYz0naHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8nPgogIDxkYzp0aXRsZT4KICAgPHJkZjpBbHQ+CiAgICA8cmRmOmxpIHhtbDpsYW5nPSd4LWRlZmF1bHQnPk5ZRSBPbmxpbmUgUE9NIGFzc2V0czwvcmRmOmxpPgogICA8L3JkZjpBbHQ+CiAgPC9kYzp0aXRsZT4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6cGRmPSdodHRwOi8vbnMuYWRvYmUuY29tL3BkZi8xLjMvJz4KICA8cGRmOkF1dGhvcj5HUCBTYW4gRGllZ28gUHVicyBUZWFtPC9wZGY6QXV0aG9yPgogPC9yZGY6RGVzY3JpcHRpb24+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczp4bXA9J2h0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8nPgogIDx4bXA6Q3JlYXRvclRvb2w+Q2FudmE8L3htcDpDcmVhdG9yVG9vbD4KIDwvcmRmOkRlc2NyaXB0aW9uPgo8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSdyJz8+NlSDGwAAAABJRU5ErkJggg==\"","export default __webpack_public_path__ + \"static/media/POM_Template.46ca0553.pdf\";","import domtoimage from \"dom-to-image\";\nimport { PDFDocument } from \"pdf-lib\";\n\nimport template from \"./POM_Template.pdf\";\n\nconst sharingImages = async (selector: string) => {\n  const els = document.querySelectorAll(selector);\n  if (els.length === 0) {\n    alert(\"no element found for image conversion!\");\n    throw new Error(\"No element found\");\n  }\n\n  const imgsBuffers: ArrayBuffer[] = await Promise.all(\n    Array.from(els).map(async (el) => {\n      const dataUrl = await domtoimage.toPng(el, { quality: 100 });\n      return await fetch(dataUrl).then((res) => res.arrayBuffer());\n    })\n  );\n\n  return imgsBuffers;\n};\n\nconst savePdf = (filename: string, bytes: Uint8Array) => {\n  const blob = new Blob([bytes], { type: \"application/pdf\" });\n  const link = document.createElement(\"a\");\n  link.href = window.URL.createObjectURL(blob);\n  link.download = filename;\n  link.click();\n};\n\nconst downloadPOMPdf = async (selector: string, filename: string) => {\n  const tmplPdfBytes = await fetch(template).then((res) => res.arrayBuffer());\n  const pdfDoc = await PDFDocument.load(tmplPdfBytes);\n\n  const sharingImgs = await sharingImages(selector);\n  await Promise.all(\n    sharingImgs.map(async (sharingImgBytes) => {\n      const sharingImg = await pdfDoc.embedPng(sharingImgBytes);\n\n      const croppedWidth = 450;\n      const croppedHeight = (sharingImg.height * 450) / sharingImg.width;\n      const sharingPage = pdfDoc.addPage([croppedWidth, croppedHeight]);\n      sharingPage.drawImage(sharingImg, {\n        x: 0,\n        y: 0,\n        width: croppedWidth,\n        height: croppedHeight,\n      });\n    })\n  );\n\n  const pdfBytes = await pdfDoc.save();\n  savePdf(filename, pdfBytes);\n};\n\nexport default downloadPOMPdf;\n","import React, { ReactNode, useState } from \"react\";\nimport { Form, Input, Button, Row, Col } from \"antd\";\nimport Title from \"antd/lib/typography/Title\";\nimport Paragraph from \"antd/lib/typography/Paragraph\";\nimport downloadPOMPdf from \"./downloadSharing\";\n\nconst QUESTIONS = [\"Inside of Card\", \"Prayer\"];\n\nconst SharingFrame = ({\n  className = \"sharings\",\n  children,\n}: {\n  className: string;\n  children: ReactNode;\n}) => (\n  <div\n    className={className}\n    style={{\n      width: \"100%\",\n      border: \"solid 32px #25293B\",\n      padding: \"15px\",\n      backgroundColor: \"#EDFEF7\",\n    }}\n  >\n    <div\n      style={{\n        width: \"100%\",\n        minHeight: \"740px\",\n        border: \"6px solid #25293B\",\n        padding: \"20px\",\n        backgroundColor: \"#EDFEF7\",\n      }}\n    >\n      {children}\n    </div>\n  </div>\n);\n\nconst Sharing = () => {\n  const [step, setStep] = useState<number>(0);\n  const [sharings, setSharings] = useState<string[]>([]);\n\n  const onSharingFinish = ({ sharing: newSharing }: { sharing: string }) => {\n    const newSharings = [...sharings];\n    newSharings[step] = newSharing;\n    setSharings(newSharings);\n    setStep(step + 1);\n  };\n  const isFinished = () => step === QUESTIONS.length;\n\n  const SharingResult = () => (\n    <>\n      {QUESTIONS.map((q, index) => (\n        <>\n          <Row justify=\"center\" style={{ fontSize: 22 }} gutter={[32, 32]}>\n            <SharingFrame className=\"sharings\">\n              <Title level={2}>{QUESTIONS[index]}</Title>\n              <Paragraph>{sharings[index]}</Paragraph>\n            </SharingFrame>\n          </Row>\n          <br />\n        </>\n      ))}\n      <Row justify=\"space-around\" gutter={[32, 32]}>\n        <Col xs={8} md={6} xl={4}>\n          <Button block size=\"large\" onClick={() => setStep(0)}>\n            {\"Edit\"}\n          </Button>\n        </Col>\n        <Col xs={8} md={6} xl={4}>\n          <Button\n            block\n            size=\"large\"\n            type=\"primary\"\n            onClick={() => downloadPOMPdf(\".sharings\", \"20_21_NYE.pdf\")}\n          >\n            {\"Download\"}\n          </Button>\n        </Col>\n      </Row>\n    </>\n  );\n\n  const SharingForm = () => (\n    <SharingFrame className=\"sharings\">\n      <Form\n        labelCol={{\n          span: 12,\n        }}\n        wrapperCol={{\n          span: 24,\n        }}\n        layout=\"vertical\"\n        size=\"large\"\n        initialValues={{ sharing: sharings[step] }}\n        onFinish={onSharingFinish}\n      >\n        <Form.Item label={QUESTIONS[step]} name=\"sharing\">\n          <Input.TextArea required size=\"large\" rows={6} />\n        </Form.Item>\n        <Row justify=\"end\">\n          <Button type=\"primary\" htmlType=\"submit\">\n            Next\n          </Button>\n        </Row>\n      </Form>\n    </SharingFrame>\n  );\n\n  return (\n    <Row justify=\"center\" gutter={[32, 32]}>\n      <Col lg={12} md={16} xs={24}>\n        {isFinished() ? <SharingResult /> : <SharingForm />}\n      </Col>\n    </Row>\n  );\n};\n\nexport default Sharing;\n","import React, { useState } from \"react\";\nimport { Layout } from \"antd\";\nimport \"antd/dist/antd.css\";\n\nimport \"./App.css\";\n\nimport Welcome from \"./Welcome\";\nimport ScratchCard from \"./ScratchCard\";\nimport Sharing from \"./Sharings\";\n\nconst { Header, Content } = Layout;\n\nconst Step = () => {\n  const [step, setStep] = useState(0);\n  switch (step) {\n    case 0:\n      return <Welcome onNext={() => setStep(step + 1)} />;\n    case 1:\n      return <ScratchCard onNext={() => setStep(step + 1)} />;\n    case 2:\n      return <Sharing />;\n    default:\n      return <div>Wrong place bro</div>;\n  }\n};\n\nfunction App() {\n  return (\n    <Layout className=\"layout\" style={{ minHeight: \"100VH\", width: \"100VW\" }}>\n      <Header style={{ display: \"flex\", justifyContent: \"center\" }}>\n        <h1 style={{ color: \"#D9D9D9\" }}>Welcome to New Year's Eve Service!</h1>\n      </Header>\n      <Content style={{ padding: \"50px\" }}>\n        <Step />\n      </Content>\n    </Layout>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}